(this.webpackJsonpdominion_sim=this.webpackJsonpdominion_sim||[]).push([[0],{106:function(e,n,t){},125:function(e,n,t){},127:function(e,n,t){},128:function(e,n,t){},129:function(e,n,t){},130:function(e,n,t){},131:function(e,n,t){},132:function(e,n,t){},133:function(e,n,t){},134:function(e,n,t){},135:function(e,n,t){},136:function(e,n,t){},137:function(e,n,t){},140:function(e,n,t){},141:function(e,n,t){},166:function(e,n){},185:function(e,n,t){},186:function(e,n,t){},187:function(e,n,t){},215:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),c=t(97),i=t.n(c),o=(t(106),t(6)),s=t(58),u=t(45),l=t(0),d=t(3),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={id:e,cards:n};return t},h=function(e,n,t){return e<0?null:{originalX:n,originalY:t,spawn:e,cards:[]}},j=function(e,n){console.log("Setup Data: "+n);for(var t=[],r=0;r<e.numPlayers;r++)t.push(f());return t},p=function(e,n){for(var t=[],r=0;r<e;r++)t.push(n);return t},v={deckSize:30,handSize:4,board:[[-1,-1,-1,0,-1,-1,-1],[-1,-1,0,0,0,-1,-1],[-1,1,0,0,0,2,-1],[3,1,0,0,0,2,4],[-1,1,0,0,0,2,-1],[-1,-1,0,0,0,-1,-1],[-1,-1,-1,0,-1,-1,-1]],maxLife:20},b=function(e,n){return{id:e,title:"",type:"",art:"",atk:0,hp:0,range:0,atk_mod:0,hp_mod:0,range_mod:0,element:"",unique:!1,description:"",direction:[],tags:[],status:[],controller:n,inversed:!1,flipped:!1}},O=function(e){var n=[];return e.toString().split("").forEach((function(e,t){if("1"===e)switch(t){case 0:return void n.push("N");case 1:return void n.push("NE");case 2:return void n.push("E");case 3:return void n.push("SE");case 4:return void n.push("S");case 5:return void n.push("SW");case 6:return void n.push("W");case 7:return void n.push("NW");default:return}})),n},g=b,m=function(e,n){return e.map((function(e){return e.map((function(e){if(e&&e.cards&&e.cards.length>0){var t=e.cards.map((function(e){return e.controller!==n&&e.flipped&&!e.inversed?T(e.controller):e}));return x(t,e)}return e}))}))},x=function(e,n){var t=Object(l.a)({},n);return t.cards=e,t},y=function(e,n,t){var r=[];return r[n]=e[n],r[t]=f(0,D(e[t].cards,t)),r},k=function(e,n,t){var r=[];return r[n]=e[n],r[t]=D(e[t],t),r},D=function(e,n){var t=[];return e.forEach((function(e){t.push(T(n))})),t},T=function(e){var n=g("",e);return n.flipped=!0,n},C=function(e,n,t){var r=Object(l.a)({},e),a=0===parseInt(t)?1:0;return r.deck=y(r.deck,parseInt(t),a),r.hand=k(r.hand,parseInt(t),a),r.board=m(r.board,parseInt(t)),r},I=function(e,n){return{x:e,y:n}},N="Unity",M="Field",w="Token",S="ToBoard",A="ToAttack",F="hand",E="destroyZone",P="board",L=function(e,n){return e[n.y][n.x].cards},H=function(e,n,t){return e[n.y][n.x].cards[t]},B=function(e,n){switch(n){case 0:return e;case 1:return R(e);default:return e}},R=function(e){for(var n=[],t=0,r=e.length-1;r>=0;r--){n.push([]);for(var a=e[r].length-1;a>=0;a--)n[t].push(e[r][a]);t++}return n},Z=function(e){return e.atk+e.atk_mod},Y=function(e){return e.hp+e.hp_mod},_=function(e){return e.range+e.range_mod},G=function(e,n){var t=Object(l.a)({},e),r=n.atk,a=n.hp,c=n.range;return t.atk_mod=r-e.atk,t.hp_mod=a-e.hp,t.range_mod=c-e.range,t},U=function(e){var n=Object(l.a)({},e);return n.atk_mod=0,n.hp_mod=0,n.range_mod=0,n.status.splice(0,n.status.length),n.inversed=!1,n.flipped=!1,n},X=function(e,n){document.body.addEventListener("mousedown",(function(t){e.current&&!e.current.contains(t.target)&&n()}))},V=function(e,n,t){return e.map((function(e,r){return r!==t&&e.push(n),e}))},z=function(e,n,t){return{topText:e||"",content:n,bottomText:t||""}},W=function(e,n){return{attacker:e,attacked:n}},q={placeInHere:function(e,n,t,r,a){if(function(e,n,t){var r=Object.keys(n.origin)[0],a=n.origin[r],c=r!==P?e[r][t][a]:e[r][n.y][n.x].cards[a];return!(!n||n.card.id!==c.id)}(e,t,n.playerID)){var c=I(r,a),i=Object.keys(t.origin)[0],o=t.origin[i];t.flipped&&i!==P&&(t.card.flipped=t.flipped,e[i][n.playerID][o]=t.card),function(e,n,t,r){var a=e.board[r.y][r.x];if(!a)return d.v;var c=n.splice(t,1)[0];a.cards.unshift(c),e.selectToBoard=null}(e,i!==P?e[i][n.playerID]:e[i][t.y][t.x].cards,o,c)}},attackCard:function(e,n,t,r){var a=t.card,c=W(a,r),i="".concat(a.title," attacks ").concat(r.title);e.reveal=V(e.reveal,z(i,c),-1)},flipCard:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=H(e.board,t,r);a.flipped=!a.flipped},invertCard:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=H(e.board,t,r);a.inversed=!a.inversed},applyStats:function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=H(e.board,t,a),i=L(e.board,t);i[a]=G(c,r)},activateCard:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=H(e.board,t,r),c="Your opponent have declared ".concat(a.title," effect");e.reveal=V(e.reveal,z(c,a),parseInt(n.playerID))},tickCard:function(e){},bounceCard:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=U(H(e.board,t,r)),c=L(e.board,t);e.hand[n.playerID].push(a),c.splice(r,1)},destroyCard:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=U(H(e.board,t,r)),c=L(e.board,t);e.destroyZone[n.playerID].push(a),c.splice(r,1)},finishCard:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=U(H(e.board,t,r)),c=L(e.board,t);e.out.push(a),c.splice(r,1)},attachArtifact:function(e,n,t){},tileCardToBack:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=L(e.board,t);a.push(a.splice(r,1)[0])},tileCardToFront:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=L(e.board,t);a.unshift(a.splice(r,1)[0])}},K=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.splice(t,1)[0];r?n.unshift(a):n.push(a)},J=function(e){return e||""},Q=function(e){return e.length<=0},$={backToTopDeck:function(e,n,t){K(e.hand[n.playerID],e.deck[n.playerID].cards,t)},backToBottomDeck:function(e,n,t){K(e.hand[n.playerID],e.deck[n.playerID].cards,t,!0)},destroy:function(e,n,t){K(e.hand[n.playerID],e.destroyZone[n.playerID],t)},finish:function(e,n,t){K(e.hand[n.playerID],e.out,t)}},ee=function(e,n){if(e.deck[n.playerID].cards.length>0){var t=e.deck[n.playerID].cards.pop();e.hand[n.playerID].push(t)}},ne={setDeck:function(e,n,t){e.deck[n.playerID]=t},draw:ee,drawForTurn:function(e,n){for(;e.hand[n.playerID].length<v.handSize&&e.deck[n.playerID].cards.length>0;)ee(e,n)},searchToHand:function(e,n,t){var r=e.deck[n.playerID].cards[t],a="Your opponent have selected ".concat(r.title," from Deck to Hand");e.reveal=V(e.reveal,z(a,r),parseInt(n.playerID)),K(e.deck[n.playerID].cards,e.hand[n.playerID],t)},searchToDZ:function(e,n,t){K(e.deck[n.playerID].cards,e.destroyZone[n.playerID],t)},searchToOOG:function(e,n,t){K(e.deck[n.playerID].cards,e.out,t)},shuffleDeck:function(e,n){e.deck[n.playerID].cards=n.random.Shuffle(e.deck[n.playerID].cards)},mill:function(e,n,t){for(var r=t||1,a=0;a<r;a++){var c=e.deck[n.playerID].cards.pop();e.destroyZone[n.playerID].push(c)}}},te={backToHand:function(e,n,t){K(e.destroyZone[n.playerID],e.hand[n.playerID],t)},destroyToOOG:function(e,n,t){K(e.destroyZone[n.playerID],e.out,t)}},re={recycle:function(e,n,t){var r=e.out[t].controller;K(e.out,e.destroyZone[r],t)}},ae=function(e,n){return{ref:e,title:n}},ce={clearReveal:function(e,n){e.reveal[n.playerID].shift()},setLife:function(e,n,t){e.life[n.playerID]=t},callReact:function(e,n,t){var r=ae(t,"REACT!");e.reveal=V(e.reveal,z("Your opponent wants to",r),parseInt(n.playerID))}},ie={name:"dominion_simulator",setup:function(e,n){return{deck:j(e,n),hand:p(e.numPlayers,[]),destroyZone:p(e.numPlayers,[]),out:[],life:[v.maxLife,v.maxLife],reveal:p(e.numPlayers,[]),board:(t=v.board,t.map((function(e,n){return e.map((function(e,t){return h(e,t,n)}))})))};var t},moves:Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},ne),$),te),re),q),ce),minPlayers:2,maxPlayers:2,turn:{order:d.m.DEFAULT,activePlayers:d.N.ALL},playerView:C},oe=t(4),se=t.n(oe),ue=t(7),le=t(98),de=t.n(le).a.create({baseURL:"http://localhost:8000"}),fe=function(){var e=Object(ue.a)(se.a.mark((function e(n){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.get("deck/".concat(n,"/cards"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),he=function(e,n,t){return{posX:e,posY:n,actions:t}},je=(t(125),t(1)),pe=function(e){var n=e.items,t=e.moves,r=e.clear,c=e.posX,i=e.posY,o=a.a.useRef(null),s=window.innerHeight/2>i?{left:c,top:i}:{left:c,bottom:window.innerHeight-i};a.a.useEffect((function(){return X(o,r)}),[o,r]);return Object(je.jsx)("div",{className:"menu",style:s,ref:o,children:n.map((function(e,n){return Object(je.jsx)("div",{className:"menu-item",onClick:function(){return function(e){t[e.event].apply(void 0,e.args),r()}(e)},children:e.name},n)}))})},ve=function(e){var n=e.card,t=e.reveal;return n&&t&&n.art&&Object(je.jsx)("img",{src:"".concat(window.location.origin,"/img/").concat(n.art),alt:n.name})};ve.defaultProps={card:{},reveal:!0};var be=ve,Oe=(t(127),function(e){var n=e.card,t=e.highlight,r=e.extraClass,a=e.click,c=e.children;return Object(je.jsxs)("div",{className:"hoverable card-holder "+J(r),onClick:a,onMouseEnter:function(e){t&&n&&t(n)},children:[function(){if(n){var e="undefined"!==typeof n.flipped&&!n.flipped;return Object(je.jsx)(be,{card:n,reveal:e})}}(),c]})}),ge=(t(128),function(e){var n=e.click,t=e.extraClass,r=e.hidden,a=e.children;return Object(je.jsx)("button",{className:"hoverable button"+J(t)+(r?" hidden":""),onClick:n,children:a})}),me=(t(129),function(e){var n=e.header,t=e.clear;return Object(je.jsxs)("div",{className:"header",children:[n,Object(je.jsx)(ge,{extraClass:" quit",click:t,children:"X"})]})}),xe={deckHeader:"My Deck",myDZHeader:"My Destroyed Cards",rivalDZHeader:"Rival's Destroyed Cards",oogHeader:"Out Of Game Cards",boardHeader:"Board Tile"},ye=(t(130),function(e){var n=e.menu,t=e.ids,r=e.click,c=e.highlight,i=e.clear,o=a.a.useRef(null),s=function(e){return n.header===xe.oogHeader?e.controller===t[0]?" user-border":" rival-border":""};return a.a.useEffect((function(){X(o,i)}),[o,i]),Object(je.jsxs)("div",{className:"menu-list-container",ref:o,children:[Object(je.jsx)(me,{header:n.header,clear:i}),Object(je.jsx)("div",{className:"menu-list",children:n.cards.map((function(e,n){return Object(je.jsx)(Oe,{extraClass:s(e),click:function(e){return r(e,n)},card:e,highlight:c},n)}))})]})}),ke=(t(131),function(e){var n=e.value,t=e.setValue;return Object(je.jsxs)("div",{className:"input-container",children:[Object(je.jsx)(ge,{extraClass:" success",click:function(){return t(n+1)},children:"+"}),Object(je.jsx)("input",{type:"number",value:n,onChange:function(e){return t((n=parseInt(e.target.value),isNaN(n)?0:n));var n}}),Object(je.jsx)(ge,{extraClass:" quit",click:function(){return t(n-1)},children:"-"})]})}),De=(t(132),function(e){var n=e.life,t=e.apply,r=e.clear,c=a.a.useRef(null),i=a.a.useState(n),s=Object(o.a)(i,2),u=s[0],l=s[1];a.a.useEffect((function(){return X(c,r)}),[c,r]);return Object(je.jsxs)("div",{className:"menu-life-container",ref:c,children:[Object(je.jsx)("p",{children:"Set Your Life Points:"}),Object(je.jsx)(ke,{value:u,setValue:l}),Object(je.jsx)(ge,{click:function(){return t(u),void r()},children:"Apply"})]})}),Te=t.p+"static/media/swords.4f99b115.png",Ce=(t(133),function(e){var n=e.children;return Object(je.jsx)("div",{className:"no-input",children:n})}),Ie=(t(134),function(e){var n=e.menu,t=e.highlight,r=e.clear;return Object(je.jsx)(Ce,{children:Object(je.jsxs)("div",{className:"menu-reveal",children:[Object(je.jsx)("div",{className:"reveal-text",children:n.topText}),Object(je.jsx)("div",{className:"reveal-content",children:function(){var e=n.content;return e.hasOwnProperty("id")?Object(je.jsx)(Oe,{highlight:t,card:e}):e.hasOwnProperty("ref")?Object(je.jsx)("img",{src:e.ref,alt:e.title}):e.hasOwnProperty("attacker")?Object(je.jsxs)(a.a.Fragment,{children:[Object(je.jsx)(Oe,{highlight:t,card:e.attacker}),Object(je.jsx)("img",{src:Te,alt:"Versus Icon"}),Object(je.jsx)(Oe,{highlight:t,card:e.attacked})]}):void 0}()}),Object(je.jsx)("div",{className:"reveal-text",children:n.bottomText}),Object(je.jsx)(ge,{click:r,children:"OK"})]})})}),Ne=(t(135),t(136),function(e){var n=e.data,t=e.highlight,r=e.apply,c=e.clear,i=n.place,s=n.card,u=n.index,l=s.type!==w?s.title:w,d=a.a.useState(Z(s)),f=Object(o.a)(d,2),h=f[0],j=f[1],p=a.a.useState(Y(s)),v=Object(o.a)(p,2),b=v[0],O=v[1],g=a.a.useState(_(s)),m=Object(o.a)(g,2),x=m[0],y=m[1],k=a.a.useState(0!==_(s)),D=Object(o.a)(k,2),T=D[0],C=D[1];return Object(je.jsx)(Ce,{children:Object(je.jsxs)("div",{className:"menu-stats-container",children:[Object(je.jsx)(me,{header:"".concat(l," Status"),clear:c}),Object(je.jsxs)("div",{className:"menu-stats",children:[Object(je.jsx)("div",{className:"column",children:Object(je.jsx)(be,{card:s})}),Object(je.jsxs)("div",{className:"column",children:[Object(je.jsx)("h3",{children:"Atack:"}),Object(je.jsx)(ke,{value:h,setValue:j}),Object(je.jsx)("h3",{children:"Life:"}),Object(je.jsx)(ke,{value:b,setValue:O}),Object(je.jsxs)("div",{className:"input-container",children:[Object(je.jsx)("input",{type:"checkbox",checked:T,onChange:function(e){return function(e){C(e.target.checked)}(e)}}),Object(je.jsx)("p",{children:"Set Card Range"})]}),T&&Object(je.jsxs)(a.a.Fragment,{children:[Object(je.jsx)("h3",{children:"Range:"}),Object(je.jsx)(ke,{value:x,setValue:y})]})]})]}),Object(je.jsx)(ge,{click:function(){return function(){var e=T?x:_(s),n={atk:h,hp:b,range:e};r(i,n,u),t(G(s,n)),c()}()},children:"Apply"})]})})}),Me=function(e){var n=e.listMenu,t=e.actionMenu,r=e.revealMenu,a=e.statsMenu,c=e.lifeMenu,i=e.ids,o=e.moves,s=e.highlight,u=e.clear;return Object(je.jsxs)("div",{className:"menu-layer",children:[t&&t.actions.length>0&&Object(je.jsx)(pe,{items:t.actions,moves:o,posX:t.posX,posY:t.posY,clear:u}),n&&n.cards.length>0&&Object(je.jsx)(ye,{menu:n,ids:i,highlight:s,moves:o,click:function(e,t){var r=n.actions.map((function(e){var n,r=[t];Array.isArray(e.args)?(n=e.args).push.apply(n,r):e.args=r;return e})),a=he(e.pageX,e.pageY,r);o.actionsMenu(a)},clear:u}),a&&Object(je.jsx)(Ne,{data:a,highlight:s,apply:o.applyStats,clear:u}),c&&Object(je.jsx)(De,{life:c.life,clear:u,apply:function(e){return o.setLife(e)}}),r.length>0&&Object(je.jsx)(Ie,{highlight:s,menu:r[0],clear:u})]})},we=(t(137),function(e){var n=e.click,t=e.extraClass,r=e.children;return Object(je.jsx)("div",{className:"hoverable jar "+J(t),onClick:n,children:r})}),Se="disabled",Ae="no-cover",Fe="selected",Ee="inverted",Pe=function(e,n){if(Array.isArray(e)&&Array.isArray(n)){var t="";return e.forEach((function(r,a){r&&(t+=n[a]),t+=e[a+1]?" ":""})),t}return e?n:""},Le=function(e){var n=e.ids,t=e.decks,r=e.dzs,a=e.out,c=e.menu,i=e.selection,s=Object(o.a)(n,2),u=s[0],l=s[1],d=[t[u],t[l]],f=d[0],h=d[1],j=[r[u],r[l]],p=j[0],v=j[1],b=i,O=Object(o.a)(c,3),g=O[0],m=O[1],x=O[2];return Object(je.jsxs)("div",{className:"deck-col",children:[Object(je.jsx)(Oe,{extraClass:"disabled "+Pe(Q(h.cards),Ae),children:Object(je.jsx)("div",{className:"counter",children:h.cards.length})}),Object(je.jsx)(Oe,{card:v.at(-1),extraClass:Pe([Q(v),Q(v),!Q(v)],[Se,Ae,Ee]),click:function(){return m(l,!1)},children:Object(je.jsx)("div",{className:"counter",children:v.length})}),Object(je.jsx)(we,{extraClass:Pe(Q(a),Se),click:function(){return x()},children:"OUT"}),Object(je.jsx)(Oe,{card:p.at(-1),extraClass:Pe([b(E),Q(p),Q(p)],[Fe,Se,Ae]),click:function(){return m(u,!0)},children:Object(je.jsx)("div",{className:"counter",children:p.length})}),Object(je.jsx)(Oe,{extraClass:Pe([Q(f.cards),Q(f.cards)],[Se,Ae]),click:function(e){return function(e){f.cards.length>0&&g(e)}(e)},children:Object(je.jsx)("div",{className:"counter",children:f.cards.length})})]})},He=t(10),Be=t.n(He),Re=(t(140),function(e){var n=e.list,t=e.selected,r=e.menuClick,a=e.highlight,c=function(e){if(t&&t.origin[F]===e)return" selected";return""};return Object(je.jsx)("div",{className:"hand",children:n.map((function(e,n){return Object(je.jsx)(Oe,{card:e,highlight:a,extraClass:c(n),click:function(e){return function(e,n){r&&r(e,n)}(e,n)}},n)}))})}),Ze=(t(141),function(e){var n=e.board,t=e.ids,r=e.moves,c=e.selected,i=e.life,s=e.menuClick,u=e.highlight,l=e.clear,d=Object(o.a)(t,2),f=d[0],h=d[1],j=1===f?[4,3]:[3,4],p=function(e){if(!e)return"";switch(e.spawn){case f+1:return"hoverable user";case h+1:return"hoverable rival";case j[0]:return"dominion user";case j[1]:return"dominion rival";default:return"hoverable"}},v=function(e){if(e){var n=c?" selected":"";return 3===e.spawn||4===e.spawn?b(e.spawn):Object(je.jsx)("div",{className:"content"+n,onClick:function(){return O(e.originalX,e.originalY)},children:g(e.cards[0],e)})}return""},b=function(e){return e===j[0]?Object(je.jsx)("div",{className:"content",onClick:function(){return r.myLifeMenu()},children:i[f]}):e===j[1]?Object(je.jsx)("div",{className:"content",children:i[h]}):void 0},O=function(e,t){if(c){switch(c.type){case S:r.placeInHere(c,e,t);break;case A:var a=H(n,I(e,t),0);a&&r.attackCard(c,a)}l()}},g=function(e,n){if(e){var t=Pe(function(e){return e.controller!==f!==e.inversed}(e),Ee);return Object(je.jsx)(Oe,{card:e,highlight:u,extraClass:t+" "+Se,click:function(e){return function(e,n){c||s(e,n,f)}(e,n)},children:Object(je.jsx)("div",{className:"overlay",children:m(e,n)})})}return""},m=function(e,n){return Object(je.jsxs)(a.a.Fragment,{children:[x(n),k(e)]})},x=function(e){var n=e.cards,t=function(e){return e.filter((function(e){return e.type===M}))[0]}(n);if(n.length>1)return Object(je.jsxs)(a.a.Fragment,{children:[Object(je.jsx)("div",{className:"top-right txt-info",onClick:function(n){return y(n,e)},children:"+"}),t&&Object(je.jsx)("div",{className:"top-left txt-info",onMouseEnter:function(){return u(t)},onMouseLeave:function(){return u(n[0])},children:"F"})]})},y=function(e,n){r.getTileCardsList(n),e.stopPropagation()},k=function(e){if(!e.flipped&&e.type===N)return Object(je.jsxs)("div",{className:"bottom",children:[Object(je.jsx)("div",{className:"txt-info",children:Z(e)+"/"+Y(e)}),Object(je.jsx)("div",{className:"txt-info",children:D(e)})]})},D=function(e){return 0!==_(e)?_(e)>0?"+":""+_(e):""};return Object(je.jsx)("div",{className:"board",children:n.map((function(e,n){return e.map((function(e,t){return function(e,n,t){var r=n+"-"+t,a=p(e);return Object(je.jsx)("div",{className:a+" tile-holder",children:v(e)},r)}(e,n,t)}))}))})});Re.propTypes={ids:Be.a.arrayOf(Be.a.number),hand:Be.a.arrayOf(Be.a.object),board:Be.a.arrayOf(Be.a.arrayOf(Be.a.number)),life:Be.a.arrayOf(Be.a.number),moves:Be.a.object,actions:Be.a.object};var Ye=function(e){var n=e.ids,t=e.hand,r=e.board,a=e.life,c=e.moves,i=e.actions,s=Object(o.a)(n,2),u=s[0],l=s[1],d=[t[u],t[l]],f=d[0],h=d[1],j=Object(o.a)(i,5),p=j[0],v=j[1],b=j[2],O=j[3],g=j[4];return Object(je.jsxs)("div",{className:"hand-col",children:[Object(je.jsx)(Re,{reveal:!1,list:h}),Object(je.jsx)(Ze,{board:B(r,u),menuClick:v,ids:[u,l],life:a,selected:b,moves:c,highlight:g,clear:O}),Object(je.jsx)(Re,{reveal:!0,list:f,menuClick:p,highlight:g,selected:b})]})},_e=t.p+"static/media/react-img.a3ca1abf.png",Ge=function(e){var n=e.ids,t=e.currentPlayer,r=e.reveal,a=e.moves,c=e.events,i=Object(o.a)(n,2),s=i[0],u=i[1];return Object(je.jsxs)("div",{className:"control-col",children:[Object(je.jsx)(ge,{click:function(){return a.callReact(_e)},hidden:r[u].length>0||t===s,children:"REACT!"}),Object(je.jsx)(ge,{click:function(){t===s&&c.endTurn()},hidden:t!==s,children:"END TURN"})]})},Ue=t(99),Xe=t.n(Ue),Ve=(t(185),function(e){var n=e.children;return Object(je.jsx)("div",{className:"segment",children:n})}),ze=function(e){var n=e.card,t=function(e,n){return n<e?"negative":n>e?"positive":""};return Object(je.jsx)("div",{className:"status-col",children:n.id&&Object(je.jsxs)("div",{children:[Object(je.jsx)(Ve,{children:Object(je.jsx)("div",{children:Object(je.jsx)("h3",{children:n.title})})}),Object(je.jsx)(Ve,{children:Object(je.jsx)(be,{card:n})}),Object(je.jsx)(Ve,{children:function(){var e=n.type===N?"ELEMENT:":"ACTIVATION:",r=Z(n),a=Y(n),c=_(n);return n.type!==M&&Object(je.jsxs)("div",{className:"status-segment",children:[Object(je.jsxs)("div",{className:"stat",children:[Object(je.jsx)("div",{children:e}),Object(je.jsx)("div",{children:n.element})]}),Object(je.jsxs)("div",{className:"stat",children:[Object(je.jsx)("div",{children:"ATK:"}),Object(je.jsx)("div",{className:t(n.atk,r),children:r})]}),Object(je.jsxs)("div",{className:"stat",children:[Object(je.jsx)("div",{children:"HP:"}),Object(je.jsx)("div",{className:t(n.hp,a),children:a})]}),0!==c&&Object(je.jsxs)("div",{className:"stat",children:[Object(je.jsx)("div",{children:"R:"}),Object(je.jsx)("div",{children:c})]})]})}()}),Object(je.jsxs)(Ve,{children:[Xe()(n.description),Object(je.jsx)("div",{children:function(e){var n="";return Array.isArray(e)&&e.forEach((function(t,r){n+=t,n+=e[r+1]?" | ":""})),n}(n.tags)})]})]})})},We=t(5),qe=function(e,n,t){return{name:e,event:n,args:t}},Ke=function(e,n,t){return{header:e,cards:n,actions:t}},Je={constructDeck:function(e,n,t){var r=[];return n.forEach((function(e){r.push.apply(r,Object(We.a)(function(e,n){var t=[],r=b(e.ID,n);Object.assign(r,{title:e.NAME,type:e.TYPE,art:e.ART,atk:e.ATK,hp:e.HP,range:e.RANGE,element:e.SUBTYPE,unique:Boolean(e.UNIQUE),description:e.DESCRIPTION,direction:O(e.DIRECTION_RANGE),tags:e.TAGS.split(",")});for(var a=1;a<=e.CARD_QUANTITY;a++)t.push(r);return t}(e,t)))})),f(e,r)},getDeckForSearch:function(e){var n=[qe("To Hand","searchToHand"),qe("To DZ","searchToDZ"),qe("To OOG","searchToOOG")];return Ke(xe.deckHeader,e,n)},getDeckActionsOnMenu:function(e){var n=[qe("Draw","draw"),qe("Draw For Turn","drawForTurn"),qe("Search","getDeckForSearch"),qe("Shuffle Deck","shuffleDeck"),qe("Mill","mill")];return he(e.pageX,e.pageY,n)}},Qe=function(e){return{life:e}},$e=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:S,i={origin:e,type:c,card:n,flipped:t,x:r,y:a};return i},en=function(e,n,t,r){var a={};a[F]=t;var c=e[n][t];return $e(a,c,r)},nn={spawnFaceUp:function(e,n,t){return en(e,n,t,!1)},spawnFaceDown:function(e,n,t){return en(e,n,t,!0)},getHandActionsOnMenu:function(e,n,t,r){var a=[qe("Back to Top of the Deck","backToTopDeck",[n]),qe("Back to Bottom of the Deck","backToBottomDeck",[n]),qe("SPAWN Face-up","spawnFaceUp",[t,r,n]),qe("SPAWN Face-down","spawnFaceDown",[t,r,n]),qe("Destroy","destroy",[n]),qe("Put OUT OF GAME","finish",[n])];return he(e.pageX,e.pageY,a)}},tn=function(e,n,t){return{place:e,card:n,index:t}},rn=function(e,n,t,r){var a={};a[P]=t;var c=H(e,n,t);return $e(a,c,c.flipped,n.x,n.y,r)},an={moveInBoard:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return rn(e,n,t,S)},openStatsMenu:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=H(e,n,t);return tn(n,r,t)},selectToAttack:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return rn(e,n,t,A)},getBoardActionMenu:function(e,n,t){var r=[],a=I(n.originalX,n.originalY);if(n.cards.length>1&&r.push.apply(r,Object(We.a)(function(e,n){var t=I(e.originalX,e.originalY);return[qe("Check all Cards","getTileCardsList",[e]),qe("Put card in back","tileCardToBack",[t])]}(n))),n.cards.length>0){var c=n.cards[0];(c.controller===t||c.inversed)&&(r.push.apply(r,Object(We.a)(function(e,n,t){switch(e.type){case N:return[qe("Set Stats","openStatsMenu",[t])];default:return[]}}(c,0,a))),r.push.apply(r,Object(We.a)(function(e,n,t){return[qe("Move","moveInBoard",[t]),qe("Attack","selectToAttack",[t]),qe("Flip","flipCard",[t]),qe("Invert","invertCard",[t]),qe("Activate","activateCard",[t]),qe("Bounce","bounceCard",[t]),qe("Destroy","destroyCard",[t]),qe("Finish","finishCard",[t])]}(0,0,a))))}return he(e.pageX,e.pageY,r)},getTileCardsList:function(e){var n=I(e.originalX,e.originalY),t=[qe("To Top","tileCardToFront",[n]),qe("To Back","tileCardToBack",[n]),qe("Set Stats","openStatsMenu",[n]),qe("Attack","selectToAttack",[n]),qe("Activate","activateCard",[n]),qe("Bounce","bounceCard",[n]),qe("Destroy","destroyCard",[n]),qe("Finish","finishCard",[n])];return Ke(xe.boardHeader,e.cards,t)}},cn=function(e,n,t){var r={};r[E]=t;var a=e[n][t];return $e(r,a)},on={reborn:function(e,n,t){return cn(e,n,t)},getDZForSearch:function(e,n,t){var r=t?xe.myDZHeader:xe.rivalDZHeader,a=t?[qe("Reborn","reborn",[e.destroyZone,n]),qe("To Hand","backToHand"),qe("To OOG","destroyToOOG")]:[];return Ke(r,e.destroyZone[n],a)}},sn={getOOGForSearch:function(e){var n=[qe("Recycle","recycle")];return Ke(xe.oogHeader,e,n)}},un=Je.getDeckActionsOnMenu,ln=on.getDZForSearch,dn=sn.getOOGForSearch,fn=nn.getHandActionsOnMenu,hn=an.getBoardActionMenu,jn=function(e){var n=e.G,t=e.myID,r=e.moves,a=e.actionMenu,c=e.setActionMenu,i=e.lifeMenu,o=e.setLifeMenu,s=e.listMenu,u=e.setListMenu,l=e.statsMenu,d=e.setStatsMenu,f=e.setSelectToBoard,h=function(e){return Qe(e)},j=function(){var e=s.header===xe.deckHeader;u(null),e&&setTimeout(r.shuffleDeck,100)};return{global:{getLifeMenu:h,deckMenu:function(e){f(null),c(un(e))},dzMenu:function(e,t){u(ln(n,e,t))},oogMenu:function(){u(dn(n.out))},handMenu:function(e,r){f(null),c(fn(e,r,n.hand,t))},boardMenu:function(e,n,t){c(hn(e,n,t))},clearListMenu:j,clearMenuCallback:function(){a?c(null):s?j():i?o(null):l?d(null):n.reveal[t]&&r.clearReveal()}},moves:{spawnFaceUp:function(){f(nn.spawnFaceUp.apply(nn,arguments))},spawnFaceDown:function(){f(nn.spawnFaceDown.apply(nn,arguments))},reborn:function(){f(on.reborn.apply(on,arguments))},getDeckForSearch:function(){u(Je.getDeckForSearch(n.deck[t].cards))},myLifeMenu:function(){o(h(n.life[t]))},actionsMenu:function(e){c(e)},getTileCardsList:function(){u(an.getTileCardsList.apply(an,arguments))},moveInBoard:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];f(an.moveInBoard.apply(an,[n.board].concat(t)))},selectToAttack:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];f(an.selectToAttack.apply(an,[n.board].concat(t)))},openStatsMenu:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];d(an.openStatsMenu.apply(an,[n.board].concat(t)))}}}},pn=(t(186),function(e){var n=e.G,t=e.ctx,c=e.playerID,i=e.deckID,s=e.moves,u=e.events,d=parseInt(c),f=0===d?1:0,h=Object(r.useState)(null),j=Object(o.a)(h,2),p=j[0],v=j[1],b=Object(r.useState)(Oe("",-1)),O=Object(o.a)(b,2),g=O[0],m=O[1],x=Object(r.useState)(null),y=Object(o.a)(x,2),k=y[0],D=y[1],T=Object(r.useState)(null),C=Object(o.a)(T,2),I=C[0],N=C[1],M=Object(r.useState)(null),w=Object(o.a)(M,2),S=w[0],A=w[1],F=Object(r.useState)(null),E=Object(o.a)(F,2),P=E[0],L=E[1],H={setActionMenu:v,setHighlightCard:m,setListMenu:D,setStatsMenu:N,setLifeMenu:A,setSelectToBoard:L},B={actionMenu:p,highlightCard:g,listMenu:k,statsMenu:I,lifeMenu:S,selectToBoard:P},R=Object(l.a)(Object(l.a)({G:n,myID:d,moves:s},H),B),Z=jn(R),Y=Z.moves,_=Z.global,G=_.deckMenu,U=_.dzMenu,X=_.oogMenu,V=_.handMenu,z=_.boardMenu,W=_.clearMenuCallback;a.a.useEffect((function(){var e=function(){var e=Object(ue.a)(se.a.mark((function e(){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(i);case 2:n=e.sent,s.setDeck(Je.constructDeck(i,n,d));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i!==n.deck[d].id&&e()}),[s,i,n,d]);return Object(je.jsxs)("div",{className:"arena",children:[Object(je.jsx)(Me,{actionMenu:p,listMenu:k,revealMenu:n.reveal[d],lifeMenu:S,statsMenu:I,ids:[d,f],moves:Object.assign(s,Y),highlight:m,clear:W}),Object(je.jsx)(Le,{ids:[d,f],decks:n.deck,dzs:n.destroyZone,out:n.out,selection:function(e){return P&&void 0!==P.origin[e]},highlight:m,menu:[G,U,X]}),Object(je.jsx)(Ye,{ids:[d,f],life:n.life,hand:n.hand,board:n.board,moves:s,actions:[V,z,P,function(){L(null)},m]}),Object(je.jsx)(Ge,{ids:[d,f],currentPlayer:parseInt(t.currentPlayer),moves:s,events:u,reveal:n.reveal}),Object(je.jsx)(ze,{card:g})]})}),vn=(t(187),window.location),bn=vn.protocol,On=vn.hostname,gn=vn.port,mn="".concat(bn,"//").concat(On,":").concat(gn),xn=Object(s.a)({game:ie,board:pn,debug:!1,multiplayer:Object(u.b)({server:mn})}),yn=(s.b,"https://".concat(window.location.hostname,":8000"),"https://".concat(window.location.hostname,":8000"),function(){var e=Object(r.useState)(null),n=Object(o.a)(e,2),t=n[0],a=n[1];return t?Object(je.jsx)(xn,{playerID:t,deckID:1}):Object(je.jsxs)("div",{children:[Object(je.jsx)("p",{children:"Play as"}),Object(je.jsx)("button",{onClick:function(){return a("0")},children:"Player 0"}),Object(je.jsx)("button",{onClick:function(){return a("1")},children:"Player 1"})]})}),kn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,217)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(je.jsx)(a.a.StrictMode,{children:Object(je.jsx)(yn,{})}),document.getElementById("root")),kn()}},[[215,1,2]]]);
//# sourceMappingURL=main.c4911977.chunk.js.map